# CLAUDE.md

このファイルは、Claude Code がこのリポジトリで作業する際のガイダンスを提供する。

---

## AI開発運用ルール

生成AI（Claude Code 等）と協働して開発するためのルール。
仕様は `docs/spec.md` に記載。ここには「AIの使い方」だけを書く。

このプロジェクトは **AI主導開発（AI-first development）** を前提とする。

- 人間：やりたいこと（要件・UX・完成イメージ）を決める
- AI：設計・実装・リファクタ・コード生成を行う

### 責務分担

**人間の責務**
- 何を作るか決める
- 仕様を書く/更新する
- UI/体験の最終判断
- バグ報告・フィードバック

**AIの責務**
- 設計・ディレクトリ構成提案
- 型定義・実装コード生成
- リファクタ・テストコード生成
- ドキュメント補完

原則：**コードはAIが書く**

### 開発フロー

1. 人間が `docs/spec.md` を更新
2. AIに「spec.md に完全準拠で実装してください」と依頼
3. AIがコード生成（全ファイル出力・差分提示）
4. 人間が動作確認（UI・使い勝手）
5. 修正点は直接コード編集せず、`docs/spec.md` を修正して再生成

### 絶対ルール

1. **仕様が唯一の正** — AIは `docs/spec.md` のみを信頼する。推測や独自仕様追加は禁止。
2. **コード直接編集禁止** — 人間が直接コードを書かない。変更は必ず仕様→再生成。
3. **最小実装（MVP優先）** — 不要な機能を足さない。シンプル優先。過剰設計禁止。
4. **フロントエンド完結** — サーバー・API・DB追加禁止。

### 完了の定義

- `docs/spec.md` の受け入れ条件を満たす
- ビルド成功
- Vercelで公開可能
- 重大バグなし

---

## プロジェクト概要

ユーザー入力からメッセージカード画像を生成し、PNGで保存できるフロントエンドWebアプリ。

## 技術スタック

- **React 19.2** + TypeScript
- **Vite 7** — ビルドツール・開発サーバー
- **ESLint 9** — フラット設定によるLint
- **@vitejs/plugin-react** — BabelによるFast Refresh

## 開発コマンド

- `npm run dev` - HMR付き開発サーバーの起動
- `npm run build` - 本番ビルド（TypeScriptコンパイル → Viteビルド）
- `npm run lint` - 全ファイルに対してESLintを実行
- `npm run preview` - 本番ビルドのローカルプレビュー

## プロジェクト構成

```
src/
  components/   # UI
  utils/        # ロジック（Canvas描画など）
  types/        # 型定義
  constants/    # 定数・設定
  App.tsx
docs/
  spec.md       # 仕様書（唯一の正）
```

UIと描画ロジックは必ず分離。

主要ファイル:
- **[src/main.tsx](src/main.tsx)** - アプリケーションエントリーポイント
- **[src/App.tsx](src/App.tsx)** - メインアプリケーションコンポーネント
- **[docs/spec.md](docs/spec.md)** - 仕様書
